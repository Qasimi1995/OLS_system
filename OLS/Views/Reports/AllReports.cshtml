@model List<OLS.Models.SchoolListAll>
@inject Microsoft.AspNetCore.Mvc.Localization.IViewLocalizer localizer

@{ ViewData["Title"] = "All Reports"; 


    var culture = Context.Features.Get<Microsoft.AspNetCore.Localization.IRequestCultureFeature>().RequestCulture.UICulture.Name;
}

<hr />
<div class="card">
    <div class="card-body">
        <div class=" card-title text-center">
            <h2>@localizer["GeneralReportsOfAll"]</h2>
        </div>

        <form asp-action="AllReports" method="post">
            <div class="accordion md-accordion" id="accordionEx" role="tablist" aria-multiselectable="true">
                <!-- Accordion card -->
                <div class="card">
                    <!-- Card header -->
                    <div class="card-header text-right" role="tab" id="headingOne1">
                        <a data-toggle="collapse" data-parent="#accordionEx" href="#collapseOne1" aria-expanded="true"
                           aria-controls="collapseOne1">
                            <h5 class="mb-0" style="color:green;">
                                <i class="fas fa-angle-down rotate-icon"></i> @localizer["Search"]
                            </h5>
                        </a>
                    </div>
                    <!-- Card body -->

                    <div id="collapseOne1" class="collapse show" role="tabpanel" aria-labelledby="headingOne1"
                         data-parent="#accordionEx">
                        <div class="card-body">

                            <div class="row">
                                <div class="col-md-3">
                                    <div class="form-group">
                                        <label for="Name">

                                            @localizer["FromDate"]
                                        </label>
                                        <input name="startdate" type="date" class="form-control" />
                                        <span class="text-danger"></span>
                                    </div>
                                </div>


                                <div class="col-md-3">
                                    <div class="form-group">
                                        <label for="Name">

                                            @localizer["ToDate"]
                                        </label>
                                        <input name="enddate" type="date" class="form-control" />
                                        <span class="text-danger"></span>
                                    </div>
                                </div>

                                <div class="col-md-3">
                                    <div class="form-group">
                                        <label for="LastName">

                                            @localizer["SchoolName"]

                                        </label>
                                        <select name="schoolname" class="form-control">
                                            <option selected value="">--@localizer["Select"]--</option>
                                            @foreach (var Sname in ViewBag.SchoolN)
                                            {
                                <option value="@Sname.SchoolName"> @Sname.SchoolName</option>
}
                                        </select>

                                    </div>
                                </div>
                                <div class="col-md-3">
                                    <div class="form-group">
                                        <label for="LastName">

                                            @localizer["SchoolGender"]

                                        </label>
                                        <select name="schoolgender" class="form-control">
                                            <option selected value="">-- @localizer["Select"]--</option>
                                            @foreach (var Pname in ViewBag.SchoolGenderType)
                                            {


                                        <option value="@Pname.SchoolGenderTypeName">

                                            @if (culture == "en")
                                            {
                                                @Pname.SchoolGenderTypeName
                                            }
                                            else if(culture =="fa")
                                            {
                                                @Pname.SchoolGenderTypeNameDari.Split("/")[0]
                                            }
                                            else
                                            {
                                                @Pname.SchoolGenderTypeNameDari.Split("/")[1]
                                            }


                                        </option>
}
                                        </select>

                                    </div>
                                </div>

                                <div class="col-md-3">
                                    <div class="form-group">
                                        <label for="LastName">

                                            @localizer["SchoolLevel"]

                                        </label>
                                        <select name="schoollevel" class="form-control">
                                            <option selected value="">--@localizer["Select"] --</option>
                                            <option value="ابتدایه">@localizer["Primary"]</option>
                                            <option value="متوسطه">@localizer["Secondary"]</option>
                                            <option value="لیسه">@localizer["HighSchool"]</option>
                                        </select>
                                        @* <span asp-validation-for="SchoolLevelId" class="text-danger"></span>*@
                                    </div>
                                </div>

                                <div class="col-md-3">
                                    <div class="form-group">
                                        <label for="LastName">

                                            @localizer["Province"]

                                        </label>
                                        <select name="provincename" class="form-control">
                                            <option selected value="">--@localizer["Select"]--</option>
                                            @foreach (var Pname in ViewBag.ProvinceN)
                                            {


                                        <option value="@Pname.ProvNaDar">
                                            @if (culture == "en")
                                            {
                                        @Pname.ProvNaEng }
                                                        else
                                                        {
                                        @Pname.ProvNaDar}

                                        </option>
}
                                        </select>

                                    </div>
                                </div>

                                <div class="col-md-3">
                                    <div class="form-group">
                                        <label for="LastName">

                                            @localizer["Status"]

                                        </label>
                                        <select name="status" class="form-control">
                                            <option selected value="">-- @localizer["Select"]--</option>
                                            @foreach (var Pname in ViewBag.StatusN)
                                            {
                                        <option value="@Pname.StatusNameDariPast">
                                            @if (culture == "en")
                                            {
                                                @Pname.StatusNamePast
                                            }
                                            else if (culture == "fa")
                                            {
                                                @Pname.StatusNameDariPast.Split("/")[0]
                                            }
                                            else
                                            {
                                                @Pname.StatusNameDariPast.Split("/")[1]
                                            }

                                        </option>
                                            }
                                        </select>

                                    </div>
                                </div>

                                <div class="col-md-3">
                                    <div class="form-group">
                                        <label for="LastName">

                                            @localizer["GeneralReport"]

                                        </label>
                                        <select name="generalreport" class="form-control">
                                            <option selected value="">-- @localizer["Select"]--</option>
                                            <option value="General"> @localizer["General"]</option>
                                        </select>
                                        @* <span asp-validation-for="SchoolLevelId" class="text-danger"></span>*@
                                    </div>
                                </div>

                                <input type="submit" class="btn btn-primary" style="background-color:#0193df;" value=" @localizer["Search"]" />
                            </div>

                        </div>

                    </div>

                </div>
            </div>
        </form>




        <hr />

        <h4 class="card-title text-center">  @localizer["GeneralList"]  </h4>
        <div class="table-responsive mt-4">
            <table id="example23"
                   class="display nowrap table table-hover table-striped table-bordered"
                   cellspacing="0" width="100%">
                <thead>
                    <tr>
                        <th>  @localizer["No"]</th>
                        <th>  @localizer["SchoolName"]</th>
                        <th>  @localizer["SchoolLevel"] </th>
                        <th>  @localizer["SchoolGender"]  </th>
                        <th>   @localizer["Province"]</th>
                        <th> @localizer["District"]</th>
                        <th>  @localizer["Village"]</th>
                        <th> @localizer["Status"] </th>
                        <th> @localizer["Date"]</th>
                        <th> @localizer["DaysDuration"]</th>
                    </tr>
                </thead>
                <tbody>
                    @if (Model != null)
                    {
        @for (int i = 0; i < Model.Count(); i++)
        {
<tr>
    <td>
        @(i + 1)
    </td>

    <td>
        @Html.DisplayFor(modelItem => Model[i].SchoolName) - @Model[i].SchoolEnglishName
    </td>
    <td>
        @Html.DisplayFor(modelItem => Model[i].SchoolLevelNameDari)
    </td>
    <td>
        @Html.DisplayFor(modelItem => Model[i].SchoolGenderTypeNameDari)
    </td>
    <td>
        @Html.DisplayFor(modelItem => Model[i].PROV_NA_DAR)
    </td>
    <td>
        @Html.DisplayFor(modelItem => Model[i].DIST_NA_DAR)
    </td>
    <td>
        @Html.DisplayFor(modelItem => Model[i].Nahia)
    </td>
    <td>
        @Html.DisplayFor(modelItem => Model[i].StatusNameDariPast)
    </td>
    <td>@Model[i].StatusDate</td>

    <td>@(Math.Abs((DateTime.Now - Model[i].StatusDate).Value.Days))</td>

</tr>
} }
    else
    {
<p> @localizer["NoDataFound"]  </p>
}



                </tbody>
            </table>

        </div>
    </div>
</div>


