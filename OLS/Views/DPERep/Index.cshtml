
@{
    ViewData["Title"] = "Index";
}
<div class="row page-titles">
    <div class="col-md-5 col-12 align-self-center">
        <h3 class="text-themecolor">داشبورد / Dashboard</h3>
    </div>
</div>

@if (ViewBag.ProcessList.Count > 1)
{
    for (int j = 0; j < ViewBag.ProcessList.Count; j++)
    {    
        <div style="text-align:center;background-color: #0193df;">
            <h3 style="padding:5px;color: white;">@ViewBag.ProcessList[j].SubProcesNameDari</h3>
        </div>
        <div class="row">

            @if (ViewBag.DashBoardStatuses != null)
            {
                @for (int i = 0; i < ViewBag.DashBoardStatuses.Count; i++)
                {

                    if (j == 0)
                    { @if (ViewBag.DashBoardStatuses[i].OrderNumber <= ViewBag.ProcessList[j].OrderNumber)
                        {
                            <!-- Column -->
                            <div class="col-lg-4 col-md-12">
                                <div class="card card-inverse card-primary">
                                    <div class="card-body" style = "background-color:#0193df;">

                                        <a href="@Url.Action("SchoolList","DPERep",new
                        {OrderNumber=ViewBag.DashBoardStatuses[i].OrderNumber
                        ,ProcessStatusID=ViewBag.DashBoardStatuses[i].ProcessStatusID

                        ,CompletionFlag=ViewBag.DashBoardStatuses[i].CompletionFlag
                        }
                        )">
                                            <div class="d-flex">

                                                <div class="mr-3 align-self-center">
                                                    <h1 class="text-white"><i class="ti-pie-chart"></i></h1>
                                                </div>
                                                <div>
                                                    <h3 class="card-title">
                                                        @ViewBag.DashBoardStatuses[i].StatusNameDashDari/@ViewBag.DashBoardStatuses[i].StatusNameDash
                                                    </h3>
                                                    <h6 class="card-subtitle">@(DateTime.Now)</h6>
                                                </div>
                                            </div>
                                            <div class="row">
                                                <div class="col-4 align-self-center">
                                                    <h1 class="mb-0 font-weight-light text-white">
                                                        @ViewBag.DashBoardStatuses[i].Count
                                                    </h1>
                                                </div>
                                                <div class="col-8 pb-3 pt-2 align-self-center">
                                                    <div class="usage chartist-chart" style="height:65px"></div>
                                                </div>
                                            </div>
                                        </a>

                                    </div>
                                </div>
                            </div>
                            <!-- Column -->

                        }


                }

                if (j > 0)
                {
                    @if (ViewBag.DashBoardStatuses[i].OrderNumber <= ViewBag.ProcessList[j].OrderNumber && ViewBag.DashBoardStatuses[i].OrderNumber > ViewBag.ProcessList[j - 1].OrderNumber)
                    {


                        <!-- Column -->
                        <div class="col-lg-4 col-md-12">
                            <div class="card card-inverse card-primary">
                                <div class="card-body" style = "background-color:#0193df;">

                                    <a href="@Url.Action("SchoolList","DPERep",new
                        {OrderNumber=ViewBag.DashBoardStatuses[i].OrderNumber
                        ,ProcessStatusID=ViewBag.DashBoardStatuses[i].ProcessStatusID

                        ,CompletionFlag=ViewBag.DashBoardStatuses[i].CompletionFlag
                        }
                        )">
                                        <div class="d-flex">

                                            <div class="mr-3 align-self-center">
                                                <h1 class="text-white"><i class="ti-pie-chart"></i></h1>
                                            </div>
                                            <div>
                                                <h3 class="card-title"> @ViewBag.DashBoardStatuses[i].StatusNameDashDari/@ViewBag.DashBoardStatuses[i].StatusNameDash</h3>
                                                <h6 class="card-subtitle">@(DateTime.Now)</h6>
                                            </div>
                                        </div>
                                        <div class="row">
                                            <div class="col-4 align-self-center">
                                                <h1 class="mb-0 font-weight-light text-white">
                                                    @ViewBag.DashBoardStatuses[i].Count
                                                </h1>
                                            </div>
                                            <div class="col-8 pb-3 pt-2 align-self-center">
                                                <div class="usage chartist-chart" style="height:65px"></div>
                                            </div>
                                        </div>
                                    </a>

                                </div>
                            </div>
                        </div>
                        <!-- Column -->

                    }
                }
            }
            }

        </div>
    }
}
else
{
    <div class="row">

        @if (ViewBag.DashBoardStatuses != null)
        {
            @for (int i = 0; i < ViewBag.DashBoardStatuses.Count; i++)
            {

                <!-- Column -->
                <div class="col-lg-4 col-md-12">
                    <div class="card card-inverse card-primary">
                        <div class="card-body" style = "background-color:#0193df;">

                            <a href="@Url.Action("SchoolList","DPERep",new
                        {OrderNumber=ViewBag.DashBoardStatuses[i].OrderNumber
                        ,ProcessStatusID=ViewBag.DashBoardStatuses[i].ProcessStatusID
                        ,CompletionFlag=ViewBag.DashBoardStatuses[i].CompletionFlag
                        }
                        )">
                                <div class="d-flex">

                                    <div class="mr-3 align-self-center">
                                        <h1 class="text-white"><i class="ti-pie-chart"></i></h1>
                                    </div>
                                    <div>
                                        <h3 class="card-title"> @ViewBag.DashBoardStatuses[i].StatusNameDashDari/@ViewBag.DashBoardStatuses[i].StatusNameDash</h3>
                                        <h6 class="card-subtitle">@(DateTime.Now)</h6>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-4 align-self-center">
                                        <h1 class="mb-0 font-weight-light text-white">
                                            @ViewBag.DashBoardStatuses[i].Count
                                        </h1>
                                    </div>
                                    <div class="col-8 pb-3 pt-2 align-self-center">
                                        <div class="usage chartist-chart" style="height: 65px;"></div>
                                    </div>
                                </div>
                            </a>

                        </div>
                    </div>
                </div>
                <!-- Column -->
            }

        }
    </div>

}

